# 基于FABRIC区块链的车辆辅助认证系统

### 简介

本项目是基于Hyperledger Fabric 区块链平台开发的车辆辅助认证系统，在这个项目中，我们利用区块链作为路上信息以及车辆声誉值的承载平台，而车辆通过访问区块链中的内容获取路上信息。

在我们的场景中，并非所有车辆都可以无限制地访问这些路上信息，而必须通过认证获得合法身份后，才有权力获取路上信息或者添加路上信息。一般来说，车辆会通过向区块链的维护者——RSU交互来获取合法身份，但是当RSU不可达或者繁忙时，车辆需求的紧急认证便会被搁置。而本项目旨在利用Fabric，实现带车辆辅助的快速认证，具体的内容有：

```
1  Hyperledger Fabric 平台的搭建与调试
2  ./chaincode  自定义的智能合约（链码）
3  ./src 车辆间/车辆与Fabric网络间通信
4  ./ZKRP  零知识证明保护声誉隐私
```

### Hyperledger Fabric



### 链码

我们为待认证车辆设计了一套基于`Golang`的认证合约。已认证车辆调用`vote`函数接口对待认证车辆进行投票。链码内部统计赞成的已认证车辆的数量，若已达到投票阈值，则**最后一个满足待认证车辆投票阈值**的已认证车辆会得到返回值`true`，它需要为待认证车辆注册身份，然后投票过程将会关闭。投票未达到阈值或者投票过程关闭的情况下，车辆继续投票则会得到返回值`false`。

示例使用：

```go
result, err := contract.SubmitTransaction("Vote", "tempCar2")	//Go SDK 通过投票函数进行投票
if err != nil {
	fmt.Printf("Failed to submit transaction: %s\n", err)
	os.Exit(1)
}
// 需要帮助车辆进行注册的已投票车辆获得返回值true
// 其他车辆收到返回值 false
```

### 车间/车网 通信

本项目利用基于java语言的UDP通信实现车辆间以及车辆与Fabric网络间的信息交互，具体执行的交互过程有：

1.车辆在拥有合法身份时调用链码；

2.车辆未拥有合法身份时调用链码；

3.车辆移动信息通告当前区域RSU；

4.RSU查询车辆声誉值；

5.RSU为车辆进行声誉值加密并传递加密信息；

6.车辆移动进入新区域进行通告（广播）；

7.认证车收到广播并返还UID；

8.车辆接受UID并进行身份制作请求；

9.认证车获取请求，并与RSU交互制作新身份；

10.车辆接收到新合法身份，完成认证；

### ZKRP--零知识范围证明

本项目中使用ZKRP对车辆的信誉值进行加密传输，在无需额外交互的情况下能够保证声誉值在RSU间传递时不被泄露以及篡改。
